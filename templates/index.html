<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>To do list app</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet"></head>
<body>

   {% from "macros.html" import field_input with context %}
    {% block content %}

    <div class="header">
        <h1 class="title">plan your tasks</h1>
    </div>
        <div class="new-list new-item ">
            <form method='post' action="{{ url_for('todolist.create_new_list') }}">
            <h3 header>create new task list:</h3>
                {{ create_list_form.hidden_tag() }}
                {{ field_input(create_list_form.list_title, placeholder="New list title") }}
                <input type="submit" name="submit" value="Add">
            </form>
        </div>

    <section class="lists">
        {% for task_list in task_lists %}
        <div class="lists-content container existing-item wordwrap">
            <h3>{{ task_list.list_title }} <a href="{{ url_for('todolist.remove', id=task_list.id) }}"> <img src="/static/img/remove.svg"></a></h3>
                {% for task_card in incomplete %}
            <div class="card">
                {% if task_card in task_list.task_cards %}
                <button class="collapsible"><p style="font-size: 20pt">{{ task_card.card_title }} </p></button>
                <div class="content">
                    {% for task_details in task_card.task_details %}
                        <p style="text"> {{ task_details.task_description }} <a href="{{ url_for('todolist.complete', id=task_card.id) }}">mark as accomplished <img src="/static/img/done.svg"></a></p>
                    {% endfor %}

                </div>
                {% endif %}</div>
                {% endfor %}
            <form action="{{ url_for('todolist.add', list_title=task_list.list_title) }}" method="POST">
            <input type="text" name="task-to-do" placeholder="new task to do"></p>
                    <input type="text" name="details-to-do" placeholder="description"></p>
            <input type="submit" value="Add!">
        </form>
        </div>
        {% endfor %}
    </section>
    </div>

  <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>

  <script src="static/js/collapse.js"></script>
  <script src="static/js/scroll.js"></script>
</body>
    {% endblock %}

</html>